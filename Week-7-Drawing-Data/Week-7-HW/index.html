<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HW 7</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style type="text/css">
        body{
            background-color: lightpink;
        }
    </style>
</head>
<body>
    <script type="text/javascript">
        //CONSTANTS & GLOBALS
        const width = 600;
        const height = 800;
        const margin = 60;
        const parseTime = d3.timeParse("%Y"); //will parse it using full year
        

        //IMPORT DATA
        d3.csv("top5-NBA-draft-20yrs.csv").then(data =>{
            console.log("nba", data)


            //FORMAT THE DATA - create a loop
            data.forEach(d=> {
                //Use unary operator (+) to convert the strings to numbers
                d.Pick = +d.Pick;
                d.Games = +d.Games;
                d.Years = +d.Years; //years played
                d.MPG = +d.MPG; 
                d.PPG = +d.PPG;
                d.RPG = +d.RPG;
                d.APG = +d.APG;
                d.DraftYear = parseTime(d.DraftYear);
            });

            //SCALES WITH TIME
            const xScale = d3.scaleTime() //must use the time scale 
                .domain(d3.extent(data, d => d.DraftYear))
                .range([margin, width-margin]);

            const yScale = d3.scaleLinear() //use linear scale for other bball metrics
                .domain(d3.extent(data, d => d.Games))
                .range([height-margin, margin]);


            //CREATE SVG
            const svg = d3.select("body")
                .append("svg")
                .attr("width", width)
                .attr("height", height);

            //X-AXIS WITH TICKS
            const xAxis = d3.axisBottom()
                        .scale(xScale)
                        .tickFormat(d3.timeFormat("%Y"))
                        .ticks(d3.timeYear.every(5)); //show ticks for every 5 years

            //APPEND X-AXIS TO SVG
            svg.append("g")
                .attr("class", "axis")
                .attr("transform", "translate(0," + (height - margin) + ")") 
                .call(xAxis); //don't forget to call the axis


            //Y-AXIS WITH TICKS
            const yAxis = d3.axisLeft()
                        .scale(yScale)


            //APPEND Y-AXIS TO SVG
            svg.append("g")
                .attr("class", "axis")
                .attr("transform", "translate(" + margin + ",0)")
                .call(yAxis); //call axis

            
            //CREATE LINES USING D3.LINE GENERATOR


                        













        });




    </script>
</body>
</html>